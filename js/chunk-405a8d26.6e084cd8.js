(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-405a8d26"],{"00b4":function(e,t,a){"use strict";a("ac1f");var c=a("23e7"),n=a("da84"),s=a("c65b"),l=a("e330"),o=a("1626"),r=a("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),d=n.Error,u=l(/./.test);c({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!o(t))return u(this,e);var a=s(t,this,e);if(null!==a&&!r(a))throw new d("RegExp exec method returned something other than an Object or null");return!!a}})},"0393":function(e,t,a){"use strict";a("67fc")},"107c":function(e,t,a){var c=a("d039"),n=a("da84"),s=n.RegExp;e.exports=c((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"1dde":function(e,t,a){var c=a("d039"),n=a("b622"),s=a("2d00"),l=n("species");e.exports=function(e){return s>=51||!c((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"67fc":function(e,t,a){},"6eac":function(e,t,a){e.exports=a.p+"img/products.9daeff47.jpg"},"7b9c":function(e,t,a){"use strict";a.r(t);a("99af"),a("b0c0"),a("b64b");var c=a("7a23"),n=a("6eac"),s=a.n(n),l=Object(c["h"])("header",{class:"position-relative mb-7 mb-md-9"},[Object(c["h"])("img",{class:"bg-mask-60 img-cover pageBanner w-100",src:s.a,alt:"關於漢文帝banner"}),Object(c["h"])("h2",{class:"position-absolute text-hv-center top-50 start-50 h2 fw-bold text-white-50 pageBanner-text"}," Shopping ")],-1),o={class:"container px-3"},r={class:"row g-3 mt-4"},i={"aria-label":"breadcrumb"},d={class:"breadcrumb"},u={class:"breadcrumb-item"},b=Object(c["j"])(" 首頁 "),m=Object(c["h"])("li",{class:"breadcrumb-item active","aria-current":"page"},"購物車",-1),h={class:"mt-2"},f=Object(c["i"])('<ul class="row justify-content-center list-unstyled py-3 px-3"><li class="col-md-4"><div class="bg-primary p-3 badge rounded-pill fs-3 w-100 mb-2 bg-secondary text-white"> 1. 填寫訂單 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-light text-muted"> 2. 訂單結帳 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-light text-muted"> 3. 付款完成 </div></li></ul>',1),p={class:"row justify-content-center"},g={class:"col-md-6"},j={class:"text-end"},O=["disabled"],v={class:"table align-middle"},x=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th"),Object(c["h"])("th",null,"品名"),Object(c["h"])("th",{style:{width:"130px"}},"數量/單位"),Object(c["h"])("th"),Object(c["h"])("th",null,"單價")])],-1),y=["onClick","disabled"],k=Object(c["j"])(" x "),w={class:"input-group input-group-sm"},I={class:"input-group my-3"},C=["onUpdate:modelValue","onChange","disabled"],V=["value"],E={class:"input-group-text",id:"basic-addon2"},L=Object(c["h"])("td",null,null,-1),M={class:"text-end"},R=Object(c["h"])("td",{colspan:"4",class:"text-end"},"總計",-1),S={class:"text-end"},$={class:"my-5 row justify-content-center"},A={class:"mb-3"},B=Object(c["h"])("label",{for:"email",class:"form-label"},"Email",-1),U={class:"mb-3"},_=Object(c["h"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),D={class:"mb-3"},J=Object(c["h"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),T={class:"mb-3"},q=Object(c["h"])("label",{for:"address",class:"form-label"},"收件人地址",-1),N={class:"mb-3"},P=Object(c["h"])("label",{for:"payMethod",class:"form-label"},[Object(c["j"])("付款方式 "),Object(c["h"])("span",{class:"text-danger"},"*")],-1),F=Object(c["h"])("option",{value:"",disabled:""},"請選擇付款方式",-1),K=Object(c["h"])("option",{value:"ATM"},"ATM",-1),H=Object(c["h"])("option",{value:"信用卡"},"信用卡",-1),W={class:"mb-3"},Y=Object(c["h"])("label",{for:"message",class:"form-label"},"留言",-1),Q={class:"text-end"},X=["disabled"];function z(e,t,a,n,s,z){var G=Object(c["J"])("router-link"),Z=Object(c["J"])("font-awesome-icon"),ee=Object(c["J"])("Field"),te=Object(c["J"])("ErrorMessage"),ae=Object(c["J"])("Form"),ce=Object(c["J"])("NoticeView"),ne=Object(c["J"])("Loading");return Object(c["B"])(),Object(c["g"])(c["a"],null,[l,Object(c["h"])("div",o,[Object(c["h"])("div",r,[Object(c["h"])("nav",i,[Object(c["h"])("ol",d,[Object(c["h"])("li",u,[Object(c["k"])(G,{to:"/",class:"nav-link text-dark active p-0"},{default:Object(c["V"])((function(){return[b]})),_:1})]),m])]),Object(c["h"])("div",h,[f,Object(c["h"])("div",p,[Object(c["h"])("div",g,[Object(c["h"])("div",j,[Object(c["h"])("button",{class:"btn btn02 btn-outline-secondary fw-bold py-3 px-4 mb-4",type:"button",onClick:t[0]||(t[0]=function(){return z.delAllCarts&&z.delAllCarts.apply(z,arguments)}),disabled:0===s.cartData.carts.length}," 清空購物車 ",8,O)]),Object(c["h"])("table",v,[x,Object(c["h"])("tbody",null,[s.cartData.carts?(Object(c["B"])(!0),Object(c["g"])(c["a"],{key:0},Object(c["H"])(s.cartData.carts,(function(e){return Object(c["B"])(),Object(c["g"])("tr",{key:e.id},[Object(c["h"])("td",null,[Object(c["h"])("button",{type:"button",class:"btn btn01 btn-outline-secondary btn-sm",onClick:function(t){return z.removeCartItem(e.id)},disabled:s.isLoadingItem===e.id},[s.isLoadingItem===e.id?(Object(c["B"])(),Object(c["e"])(Z,{key:0,icon:"spinner",pulse:""})):Object(c["f"])("",!0),k],8,y)]),Object(c["h"])("td",null,Object(c["M"])(e.product.title),1),Object(c["h"])("td",null,[Object(c["h"])("div",w,[Object(c["h"])("div",I,[Object(c["W"])(Object(c["h"])("select",{class:"form-select","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return z.updateCartItem(e)},disabled:s.isLoadingItem===e.id},[(Object(c["B"])(),Object(c["g"])(c["a"],null,Object(c["H"])(10,(function(t){return Object(c["h"])("option",{value:t,key:"".concat(t,"-").concat(e.id)},Object(c["M"])(t),9,V)})),64))],40,C),[[c["P"],e.qty]]),Object(c["h"])("span",E,Object(c["M"])(e.product.unit),1)])])]),L,Object(c["h"])("td",M,Object(c["M"])(e.total),1)])})),128)):Object(c["f"])("",!0)]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[R,Object(c["h"])("td",S,Object(c["M"])(s.cartData.total),1)])])])])]),Object(c["h"])("div",$,[Object(c["k"])(ae,{ref:"form",class:"col-md-6",onSubmit:z.createOrder},{default:Object(c["V"])((function(e){var a=e.errors;return[Object(c["h"])("div",A,[B,Object(c["k"])(ee,{id:"email",name:"email",type:"email",class:Object(c["s"])(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:s.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.form.user.email=e})},null,8,["class","modelValue"]),Object(c["k"])(te,{name:"email",class:"invalid-feedback"})]),Object(c["h"])("div",U,[_,Object(c["k"])(ee,{id:"name",name:"姓名",type:"text",class:Object(c["s"])(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:s.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.form.user.name=e})},null,8,["class","modelValue"]),Object(c["k"])(te,{name:"姓名",class:"invalid-feedback"})]),Object(c["h"])("div",D,[J,Object(c["k"])(ee,{id:"tel",name:"電話",type:"text",class:Object(c["s"])(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:z.isPhone,modelValue:s.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(c["k"])(te,{name:"電話",class:"invalid-feedback"})]),Object(c["h"])("div",T,[q,Object(c["k"])(ee,{id:"address",name:"地址",type:"text",class:Object(c["s"])(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:s.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.form.user.address=e})},null,8,["class","modelValue"]),Object(c["k"])(te,{name:"地址",class:"invalid-feedback"})]),Object(c["h"])("div",N,[P,Object(c["k"])(ee,{id:"payMethod",modelValue:s.form.user.payMethod,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.form.user.payMethod=e}),as:"select",name:"付款方式",class:Object(c["s"])(["form-control",{"is-invalid":a["付款方式"]}]),rules:"required"},{default:Object(c["V"])((function(){return[F,K,H]})),_:2},1032,["modelValue","class"]),Object(c["k"])(te,{name:"付款方式",class:"invalid-feedback"})]),Object(c["h"])("div",W,[Y,Object(c["W"])(Object(c["h"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.form.message=e})},null,512),[[c["Q"],s.form.message]])]),Object(c["h"])("div",Q,[Object(c["h"])("button",{type:"submit",class:"btn btn02 btn-secondary py-3 px-4 fw-bold",disabled:Object.keys(a).length>0||0===s.cartData.carts.length}," 送出訂單 ",8,X)])]})),_:1},8,["onSubmit"])])])])]),Object(c["k"])(ce),Object(c["k"])(ne,{active:s.isLoading},null,8,["active"])],64)}a("ac1f"),a("00b4");var G=a("cfb9"),Z=a("b680"),ee={components:{NoticeView:Z["a"]},data:function(){return{cartData:{carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""},products:[],isLoadingItem:"",isLoading:!1,orderId:""}},methods:{isPhone:function(e){var t=/(^09|\+?8869)\d{2}(-?\d{3}-?\d{3})$/;return!!t.test(e)||"請輸入正確的手機號碼"},getProducts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/products")).then((function(t){console.log(t),e.products=t.data.products}))},getCart:function(){var e=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart")).then((function(t){e.cartData=t.data.data,e.isLoading=!1,G["a"].emit("get-cart")}))},removeCartItem:function(e){var t=this;this.isLoadingItem=e,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart/").concat(e)).then((function(e){console.log(e),t.getCart(),t.isLoadingItem="",G["a"].emit("get-cart")}))},updateCartItem:function(e){var t=this,a={product_id:e.product_id,qty:e.qty};this.isLoadingItem=e.id,this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart/").concat(e.id),{data:a}).then((function(e){console.log(e),t.getCart(),t.isLoadingItem=""}))},delAllCarts:function(){var e=this;this.isLoading=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/carts")).then((function(t){console.log(t),e.isLoading=!1,e.getCart(),G["a"].emit("get-cart")}))},createOrder:function(){var e=this;this.isLoading=!0;var t=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/order"),{data:t}).then((function(t){e.isLoading=!1,e.orderId=t.data.orderId,e.$router.push("/order/".concat(e.orderId)),e.$swal(t.data.message),e.$refs.form.resetForm(),e.getCart()}))}},mounted:function(){this.getCart()}},te=(a("0393"),a("6b0d")),ae=a.n(te);const ce=ae()(ee,[["render",z]]);t["default"]=ce},8418:function(e,t,a){"use strict";var c=a("a04b"),n=a("9bf2"),s=a("5c6c");e.exports=function(e,t,a){var l=c(t);l in e?n.f(e,l,s(0,a)):e[l]=a}},9263:function(e,t,a){"use strict";var c=a("c65b"),n=a("e330"),s=a("577e"),l=a("ad6d"),o=a("9f7f"),r=a("5692"),i=a("7c73"),d=a("69f3").get,u=a("fce3"),b=a("107c"),m=r("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,f=h,p=n("".charAt),g=n("".indexOf),j=n("".replace),O=n("".slice),v=function(){var e=/a/,t=/b*/g;return c(h,e,"a"),c(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),x=o.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],k=v||y||x||u||b;k&&(f=function(e){var t,a,n,o,r,u,b,k=this,w=d(k),I=s(e),C=w.raw;if(C)return C.lastIndex=k.lastIndex,t=c(f,C,I),k.lastIndex=C.lastIndex,t;var V=w.groups,E=x&&k.sticky,L=c(l,k),M=k.source,R=0,S=I;if(E&&(L=j(L,"y",""),-1===g(L,"g")&&(L+="g"),S=O(I,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==p(I,k.lastIndex-1))&&(M="(?: "+M+")",S=" "+S,R++),a=new RegExp("^(?:"+M+")",L)),y&&(a=new RegExp("^"+M+"$(?!\\s)",L)),v&&(n=k.lastIndex),o=c(h,E?a:k,S),E?o?(o.input=O(o.input,R),o[0]=O(o[0],R),o.index=k.lastIndex,k.lastIndex+=o[0].length):k.lastIndex=0:v&&o&&(k.lastIndex=k.global?o.index+o[0].length:n),y&&o&&o.length>1&&c(m,o[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o&&V)for(o.groups=u=i(null),r=0;r<V.length;r++)b=V[r],u[b[0]]=o[b[1]];return o}),e.exports=f},"99af":function(e,t,a){"use strict";var c=a("23e7"),n=a("da84"),s=a("d039"),l=a("e8b5"),o=a("861d"),r=a("7b0b"),i=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),m=a("b622"),h=a("2d00"),f=m("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",j=n.TypeError,O=h>=51||!s((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),v=b("concat"),x=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:l(e)},y=!O||!v;c({target:"Array",proto:!0,forced:y},{concat:function(e){var t,a,c,n,s,l=r(this),o=u(l,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(s=-1===t?l:arguments[t],x(s)){if(n=i(s),b+n>p)throw j(g);for(a=0;a<n;a++,b++)a in s&&d(o,b,s[a])}else{if(b>=p)throw j(g);d(o,b++,s)}return o.length=b,o}})},"9f7f":function(e,t,a){var c=a("d039"),n=a("da84"),s=n.RegExp,l=c((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=l||c((function(){return!s("a","y").sticky})),r=l||c((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:r,MISSED_STICKY:o,UNSUPPORTED_Y:l}},ac1f:function(e,t,a){"use strict";var c=a("23e7"),n=a("9263");c({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,a){"use strict";var c=a("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,a){var c=a("83ab"),n=a("5e77").EXISTS,s=a("e330"),l=a("9bf2").f,o=Function.prototype,r=s(o.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=s(i.exec),u="name";c&&!n&&l(o,u,{configurable:!0,get:function(){try{return d(i,r(this))[1]}catch(e){return""}}})},b680:function(e,t,a){"use strict";var c=a("7a23"),n={class:"text-dark my-5 py-md-9"},s=Object(c["i"])('<div class="container px-6 px-md-9"><ul class="row list-unstyled gx-md-9"><li class="col-md-4 border-end-md mb-5 mb-md-0 py-2"><div class="d-flex d-md-column flex-md-column flex-lg-row align-items-center justify-content-lg-center" data-aos="fade-up"><i class="bi bi-linkedin fs-1 text-danger fa-fw mb-md-3 mb-lg-0"></i><div class="ms-4 ms-md-0 ms-lg-4 text-danger text-md-center text-lg-start"><h3 class="h5">社群交流</h3><p class="mb-0">10:00 - 21:00 專人線上諮詢</p></div></div></li><li class="col-md-4 border-end-md mb-5 mb-md-0 py-2"><div class="d-flex d-md-column flex-md-column flex-lg-row align-items-center justify-content-lg-center" data-aos="fade-up" data-aos-offset="0"><span class="material-icons-outlined fs-1 text-danger mb-md-3 mb-lg-0"> local_shipping </span><div class="ms-4 ms-md-0 ms-lg-4 text-danger text-md-center text-lg-start"><h3 class="h5">滿額免運</h3><p class="mb-0">滿NT$ 500免運</p></div></div></li><li class="col-md-4 mb-5 mb-md-0 py-2"><div class="d-flex d-md-column flex-md-column flex-lg-row align-items-center justify-content-lg-center" data-aos="fade-up"><i class="bi bi-box-seam fs-1 text-danger mb-md-3 mb-lg-0"></i><div class="ms-4 ms-md-0 ms-lg-4 text-danger text-md-center text-lg-start"><h3 class="h5">現貨快速出貨</h3><p class="mb-0">工作日 16:00 前訂單，當日出貨</p></div></div></li></ul></div>',1),l=[s];function o(e,t){return Object(c["B"])(),Object(c["g"])("div",n,l)}var r=a("6b0d"),i=a.n(r);const d={},u=i()(d,[["render",o]]);t["a"]=u},fce3:function(e,t,a){var c=a("d039"),n=a("da84"),s=n.RegExp;e.exports=c((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-405a8d26.6e084cd8.js.map